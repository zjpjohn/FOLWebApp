/*! web.sgm 2016-09-20 */
FolService.factory("CommonService",["$http","promiseTracker","$rootScope","$timeout","$q",function(a,b,c,d,e){var f=b();return{post:function(b,c,f,g){function h(a){if(k=!0,1===a.config.timeout.$$state.status&&(a.state=STATE.TIMEOUT,"function"==typeof g&&g(a)),a.data.length>1){var b=a.data[0],c=a.data[1];console.log(c),c.state===STATE.SUCCESS?"function"==typeof f&&f(b,c):"function"==typeof g&&g(b,c)}else{var c=a.data;c.state===STATE.SUCCESS?"function"==typeof f&&f(c):"function"==typeof g&&g(c)}}function i(a){k=!0;var b=null,c=null;console.log(a),folUtil.isNull(a.data)?folUtil.isNull(a.config.timeout)||"timeout"!==a.config.timeout.$$state.value||(c={state:STATE.TIMEOUT}):a.data.length>1?(b=a.data[0],c=a.data[1]):c=a.data,"function"==typeof g&&g(c)}var j=e.defer(),k=!1,l=a({method:"post",url:c,data:b,timeout:j.promise});l.then(h,i),d(function(){k||j.resolve("timeout")},ACTION_TIMEOUT)},query:function(b,c,g){function h(a){if(k=!0,a.data.length>1){var b=a.data[0],d=a.data[1];console.log(d),d.state===STATE.SUCCESS?"function"==typeof c&&c(b,d):"function"==typeof g&&g(b,d)}else{var d=a.data;d.state===STATE.SUCCESS?"function"==typeof c&&c(d):"function"==typeof g&&g(d)}}function i(a){k=!0;var b=null,c=null;folUtil.isNull(a.data)?folUtil.isNull(a.config.timeout)||"timeout"!==a.config.timeout.$$state.value||(c={state:STATE.TIMEOUT}):a.data.length>1?(b=a.data[0],c=a.data[1]):c=a.data,"function"==typeof g&&g(c)}var j=e.defer(),k=!1,l=a({method:"post",url:b,timeout:j.promise});l.then(h,i),f.addPromise(l),d(function(){k||j.resolve("timeout")},ACTION_TIMEOUT)},getJSON:function(b,c,d){function e(a){var b=a.data;"function"==typeof c&&c(b)}function f(a){var b=a.data;"function"==typeof d&&d(b)}var g=a({method:"get",url:b});g.then(e,f)},get:function(b,c,f){function g(a){if(j=!0,1===a.config.timeout.$$state.status&&(a.state=STATE.TIMEOUT,"function"==typeof f&&f(a)),a.data.length>1){var b=a.data[0],d=a.data[1];console.log(d),d.state===STATE.SUCCESS?"function"==typeof c&&c(b,d):"function"==typeof f&&f(b,d)}else{var d=a.data;d.state===STATE.SUCCESS?"function"==typeof c&&c(d):"function"==typeof f&&f(d)}}function h(a){j=!0;var b=null,c=null;console.log(a),folUtil.isNull(a.data)?folUtil.isNull(a.config.timeout)||"timeout"!==a.config.timeout.$$state.value||(c={state:STATE.TIMEOUT}):a.data.length>1?(b=a.data[0],c=a.data[1]):c=a.data,"function"==typeof f&&f(c)}var i=e.defer(),j=!1,k=a({method:"get",url:b,timeout:i.promise});k.then(g,h),d(function(){j||i.resolve("timeout")},ACTION_TIMEOUT)},crosPostQuery:function(b,c,d){function e(a){var b=a.data[0],e=a.data[1];console.log(e),e.state===STATE.SUCCESS?"function"==typeof c&&c(b,e):"function"==typeof d&&d(b,e)}function f(a){var b=a.data[0],c=a.data[1];"function"==typeof d&&d(b,c)}var g=a({method:"POST",url:b,headers:{"Content-Type":"application/x-www-form-urlencoded"}});g.then(e,f)},crosPost:function(b,c,d,e){function f(a){var b=a.data[0],c=a.data[1];console.log(c),c.state===STATE.SUCCESS?"function"==typeof d&&d(b,c):"function"==typeof e&&e(b,c)}function g(a){var b=a.data[0],c=a.data[1];"function"==typeof e&&e(b,c)}var h=a({method:"GET",url:c,params:{jsonParams:b},headers:{"Content-Type":"application/x-www-form-urlencoded"}});h.then(f,g)}}}]),FolService.factory("BankInfoService",["CommonService",function(a){return{query:function(b,c,d,e){a.post(b,c,function(a,b){"function"==typeof d&&d(a,b)},function(a){"function"==typeof e&&e(a)})},findAll:function(b,c,d){a.query(b,function(a,b){"function"==typeof c&&c(a,b)},function(a){"function"==typeof d&&d(a)})}}}]),FolService.factory("CodeService",["CommonService",function(a){return{findCodeTypeNames:function(b,c,d,e){a.post(b,c,function(a,b){"function"==typeof d&&d(a,b)},function(a){"function"==typeof e&&e(a)})}}}]),FolService.factory("uploadFileService",["CommonService",function(a){return{openUploadFile:function(b,c,d){a.getJSON(b,function(a){"function"==typeof c&&c(a)},function(a){"function"==typeof d&&d(a)})},openDownloadFile:function(b,c,d){a.getJSON(b,function(a){"function"==typeof c&&c(a)},function(a){"function"==typeof d&&d(a)})},getToken:function(b,c,d){a.getJSON(b,function(a){"function"==typeof c&&c(a)},function(a){"function"==typeof d&&d(a)})},saveFile:function(b,c,d,e){a.post(b,c,function(a){"function"==typeof d&&d(a)},function(a){"function"==typeof e&&e(a)})}}}]),FolService.factory("DealerInfoService",["CommonService",function(a){return{query:function(b,c,d,e){a.post(b,c,function(a,b){"function"==typeof d&&d(a,b)},function(a){"function"==typeof e&&e(a)})}}}]);