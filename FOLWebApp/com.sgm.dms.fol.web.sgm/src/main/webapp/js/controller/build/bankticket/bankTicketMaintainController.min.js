/*! web.sgm 2016-09-28 */
FolController.controller("BankSpecialDealerMaintainController",["$scope","$timeout","$state","$q","BankSpecialDealerMaintainService","CodeService",function(a,b,c,d,e,f){b(function(){if($("#datagrid").length>0){var c=$("#datagrid").datagrid("getPager");c.pagination({onSelectPage:function(b,c){a.query_data.beginNo=c*(b-1)==0?0:c*(b-1)+1,a.query_data.endNo=c*b,$.messager.progress({title:"Please waiting",msg:"Loading data...",interval:PROGRESS_ACTION_TIMEOUT}),e.query(a.query_data,"bankTicket/dealerBankRelevance/query",function(a,b){$.messager.progress("close"),$("#datagrid").datagrid("loadData",a)},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT&&(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问"))})}})}$.messager.progress({title:"Please waiting",msg:"Loading data...",interval:PROGRESS_ACTION_TIMEOUT});var d=["渠道类型","品牌","银票审核状态"];f.findCodeTypeNames(d,"code/findCodeTypeNames",function(a){$.messager.progress("close");var c=["#dealerType","#brand","#auditStatus"];b(function(){for(var b=0;b<a.length;b++)if(!folUtil.isNull(a[b]))if("银票审核状态"==a[b][1].typeName){var d=[];$.each(a[b],function(a,b){b.codeCnDesc.indexOf("修改")<0&&d.push(b)}),$(c[b]).combobox("loadData",d),$(c[b]).combobox("select",d[0].code)}else $(c[b]).combobox("loadData",a[b]),$(c[b]).combobox("select",a[b][0].code)})},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT&&(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问"))})}),a.insert=function(){c.go("addBankSpecialDealer")},a["import"]=function(){c.go("uploadFileController",{pageName:"bankSpecialDealer"})},a.deleteSpecialDealer=function(){var b=d.defer(),c=b.promise,f=$("#datagrid").datagrid("getSelections");return f.length<=0?void $.messager.alert("提示","请选择一条记录，再进行删除操作"):f.length>1?void $.messager.alert("提示","只能选择一条记录，再进行删除操作"):f[0].auditStatus==STATE.BANK_TICKET_ADD_UN_AUDIT||f[0].auditStatus==STATE.BANK_TICKET_UPDATE_UN_AUDIT||f[0].auditStatus==STATE.BANK_TICKET_DELETE_UN_AUDIT?void $.messager.alert("提示","当前状态是待审核不能给予删除"):(e.deleteSpecialDealer(f[0],"bankTicket/dealerBankRelevance/delete",function(a,c){b.resolve("success")},function(a){b.reject("fail")}),void c.then(function(b){$.messager.alert("提示","删除银行特殊经销商成功"),$.messager.progress({title:"Please waiting",msg:"Loading data...",interval:PROGRESS_ACTION_TIMEOUT}),e.query(a.query_data,"bankTicket/dealerBankRelevance/query",function(a,b){$.messager.progress("close"),$("#datagrid").datagrid("loadData",{total:0,rows:[]}),$("#datagrid").datagrid("loadData",a)},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT&&(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问"))})},function(a){$.messager.alert("提示","删除银行特殊经销商失败")}))},a.query=function(){a.istableshow=!0,a.query_data={dealerType:folUtil.getComboBoxDataById("dealerType"),sapCode:a.sapCode,dealerName:a.dealerName,brand:folUtil.getComboBoxDataById("brand"),auditStatus:folUtil.getComboBoxDataById("auditStatus"),beginNo:0,endNo:10},$.messager.progress({title:"Please waiting",msg:"Loading data...",interval:PROGRESS_ACTION_TIMEOUT}),e.query(a.query_data,"bankTicket/dealerBankRelevance/query",function(a,b){$.messager.progress("close"),$("#datagrid").datagrid("loadData",{total:0,rows:[]}),$("#datagrid").datagrid("loadData",a)},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT&&(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问"))})}}]),FolController.controller("AddBankSpecialDealerController",["$scope","$timeout","$state","$q","BankSpecialDealerMaintainService","CodeService",function(a,b,c,d,e,f){function g(){return-1==folUtil.getComboBoxDataById("dealerType")?($.messager.alert("提示","渠道类型不能为空"),!1):-1==folUtil.getComboBoxDataById("bank")?($.messager.alert("提示","银行不能为空"),!1):folUtil.isNull($("#sapCode").textbox("getValue"))?($.messager.alert("提示","客户代码不能为空"),!1):!0}b(function(){$.messager.progress({title:"Please waiting",msg:"Loading data...",interval:PROGRESS_ACTION_TIMEOUT});var a=["渠道类型"];f.findCodeTypeNames(a,"code/findCodeTypeNames",function(a){$.messager.progress("close");var c=["#dealerType","#mainTainType"];b(function(){for(var b=0;b<a.length;b++)folUtil.isNull(a[b])||($(c[b]).combobox("loadData",a[b]),$(c[b]).combobox("select",a[b][0].code))})},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT&&(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问"))}),e.getBankInfoAllList("bankTicket/dealerBankRelevance/getBankInfoAllList",function(a,c){var d=[];d.push({bankAbbr:-1,bankChName:"请选择"}),$.each(a,function(a,b){d.push(b)}),b(function(){$("#bank").combobox("loadData",d),$("#bank").combobox("select",d[0].bankAbbr)})},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT&&(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问"))})}),a.addBankSpecialDealer=function(){var a={dealerType:folUtil.getComboBoxDataById("dealerType"),bankAbbr:folUtil.getComboBoxDataById("bank"),sapCode:$("#sapCode").textbox("getValue")};g()&&e.addBankSpecialDealer(a,"bankTicket/dealerBankRelevance/add",function(a,b){$.messager.alert("提示","新增银行特殊经销商成功"),c.go("bankSpecialDealerMaintain")},function(a){$.messager.alert("提示","新增银行特殊经销商失败")})},a.cancel=function(){c.go("bankSpecialDealerMaintain")}}]),FolController.controller("BankTicketDeadLineMaintainController",["$scope","$timeout","$state","$q","$stateParams","BankTicketDeadLineMaintainService","CodeService",function(a,b,c,d,e,f,g){var h="brand";b(function(){if($("#branddatagrid").length>0){var c=$("#branddatagrid").datagrid("getPager");c.pagination({onSelectPage:function(b,c){a.query_data.beginNo=c*(b-1)==0?0:c*(b-1)+1,a.query_data.endNo=c*b,$.messager.progress({title:"Please waiting",msg:"Loading data...",interval:PROGRESS_ACTION_TIMEOUT}),f.query(a.query_data,"bankTicket/deadLine/queryBrand",function(a,b){$.messager.progress("close"),$("#branddatagrid").datagrid("loadData",a)},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT&&(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问"))})}}),a.query_data={beginNo:0,endNo:10},$.messager.progress({title:"Please waiting",msg:"Loading data...",interval:PROGRESS_ACTION_TIMEOUT}),f.query(a.query_data,"bankTicket/deadLine/queryBrand",function(a,b){$.messager.progress("close"),$("#branddatagrid").datagrid("loadData",a)},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT&&(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问"))})}if($("#specialdealerdatagrid").length>0){var c=$("#specialdealerdatagrid").datagrid("getPager");c.pagination({onSelectPage:function(b,c){a.query_data.beginNo=c*(b-1)==0?0:c*(b-1)+1,a.query_data.endNo=c*b,$.messager.progress({title:"Please waiting",msg:"Loading data...",interval:PROGRESS_ACTION_TIMEOUT}),f.query(a.query_data,"bankTicket/deadLine/querySpecialDealer",function(a,b){$.messager.progress("close"),$("#specialdealerdatagrid").datagrid("loadData",a)},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT&&(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问"))})}})}$(".sgm_tabs").tabs({onSelect:function(c){if("维护特殊经销商"==c){h="specialDealer",$.messager.progress({title:"Please waiting",msg:"Loading data...",interval:PROGRESS_ACTION_TIMEOUT});var d=["渠道类型","品牌","银票审核状态"];g.findCodeTypeNames(d,"code/findCodeTypeNames",function(c){$.messager.progress("close");var d=["#dealerType","#brand","#auditStatus"];b(function(){for(var a=0;a<c.length;a++)if(!folUtil.isNull(c[a]))if("银票审核状态"==c[a][1].typeName){var b=[];$.each(c[a],function(a,c){c.codeCnDesc.indexOf("修改")<0&&b.push(c)}),$(d[a]).combobox("loadData",b),$(d[a]).combobox("select",b[0].code)}else $(d[a]).combobox("loadData",c[a]),$(d[a]).combobox("select",c[a][0].code)}),$.messager.progress({title:"Please waiting",msg:"Loading data...",interval:PROGRESS_ACTION_TIMEOUT}),f.query(a.query_data,"bankTicket/deadLine/querySpecialDealer",function(a,b){$.messager.progress("close"),$("#specialdealerdatagrid").datagrid("loadData",{total:0,rows:[]}),$("#specialdealerdatagrid").datagrid("loadData",a)},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT&&(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问"))})},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT&&(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问"))})}else h="brand",$.messager.progress({title:"Please waiting",msg:"Loading data...",interval:PROGRESS_ACTION_TIMEOUT}),a.query_data={beginNo:0,endNo:10},f.query(a.query_data,"bankTicket/deadLine/queryBrand",function(a,b){$.messager.progress("close"),$("#branddatagrid").datagrid("loadData",{total:0,rows:[]}),$("#branddatagrid").datagrid("loadData",a)},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT&&(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问"))})}})}),a.addBankTicketDeadLingBrand=function(){c.go("addBankTicketDeadLineBrandOrSpecialDealer",{data:{maintainType:1}})},a.addBankTicketDeadLingSpecialDealer=function(){c.go("addBankTicketDeadLineBrandOrSpecialDealer",{data:{maintainType:2}})},a.updateBankTicketDeadLingBrand=function(){var a=$("#branddatagrid").datagrid("getSelections");return a.length<=0?void $.messager.alert("提示","请选择一条记录，再进行操作"):a.length>1?void $.messager.alert("提示","只能一条记录，再进行操作"):a[0].auditStatus==STATE.BANK_TICKET_ADD_UN_AUDIT||a[0].auditStatus==STATE.BANK_TICKET_UPDATE_UN_AUDIT||a[0].auditStatus==STATE.BANK_TICKET_DELETE_UN_AUDIT?void $.messager.alert("提示","当前状态是待审核不能给予修改"):void c.go("updateBankTicketDeadLineBrandOrSpecialDealer",{data:{maintainType:1,vo:a[0]}})},a.updateBankTicketDeadLingSpecialDealer=function(){var a=$("#specialdealerdatagrid").datagrid("getSelections");return a.length<=0?void $.messager.alert("提示","请选择一条记录，再进行操作"):a.length>1?void $.messager.alert("提示","只能一条记录，再进行操作"):a[0].auditStatus==STATE.BANK_TICKET_ADD_UN_AUDIT||a[0].auditStatus==STATE.BANK_TICKET_UPDATE_UN_AUDIT||a[0].auditStatus==STATE.BANK_TICKET_DELETE_UN_AUDIT?void $.messager.alert("提示","当前状态是待审核不能给予修改"):void c.go("updateBankTicketDeadLineBrandOrSpecialDealer",{data:{maintainType:2,vo:a[0]}})},a["import"]=function(){c.go("uploadFileController",{pageName:"bankSpecialDealer"})},a.deleteBankTicketDeadLine=function(){var b,c=d.defer(),e=c.promise;return"brand"==h?b=$("#branddatagrid").datagrid("getSelections"):"specialDealer"==h&&(b=$("#specialdealerdatagrid").datagrid("getSelections")),b.length<=0?void $.messager.alert("提示","请选择一条记录，再进行删除操作"):b.length>1?void $.messager.alert("提示","只能一条记录，再进行删除操作"):b[0].auditStatus==STATE.BANK_TICKET_ADD_UN_AUDIT||b[0].auditStatus==STATE.BANK_TICKET_UPDATE_UN_AUDIT||b[0].auditStatus==STATE.BANK_TICKET_DELETE_UN_AUDIT?void $.messager.alert("提示","当前状态是待审核不能给予删除"):(f.deleteBankTicketDeadLine(b[0],"bankTicket/deadLine/delete",function(a){c.resolve("success")},function(a){c.reject("fail")}),void e.then(function(b){$.messager.alert("提示","删除银行特殊经销商成功");var c;"brand"==h?c="bankTicket/deadLine/queryBrand":"specialDealer"==h&&(c="bankTicket/deadLine/querySpecialDealer"),$.messager.progress({title:"Please waiting",msg:"Loading data...",interval:PROGRESS_ACTION_TIMEOUT}),f.query(a.query_data,c,function(a,b){$.messager.progress("close"),"brand"==h?($("#branddatagrid").datagrid("loadData",{total:0,rows:[]}),$("#branddatagrid").datagrid("loadData",a)):"specialDealer"==h&&($("#specialdealerdatagrid").datagrid("loadData",{total:0,rows:[]}),$("#specialdealerdatagrid").datagrid("loadData",a))},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT&&(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问"))})},function(a){$.messager.alert("提示","删除银行特殊经销商失败")}))},a.query=function(){a.istableshow=!0,a.query_data={dealerType:folUtil.getComboBoxDataById("dealerType"),sapCode:$("#sapCode").textbox("getValue"),dealerName:$("#dealerName").textbox("getValue"),brandId:folUtil.getComboBoxDataById("brand"),auditStatus:folUtil.getComboBoxDataById("auditStatus"),beginNo:0,endNo:10},$.messager.progress({title:"Please waiting",msg:"Loading data...",interval:PROGRESS_ACTION_TIMEOUT}),f.query(a.query_data,"bankTicket/deadLine/querySpecialDealer",function(a,b){$.messager.progress("close"),$("#specialdealerdatagrid").datagrid("loadData",{total:0,rows:[]}),$("#specialdealerdatagrid").datagrid("loadData",a)},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT&&(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问"))})}}]),FolController.controller("AddBankTicketDeadLineMaintainController",["$scope","$timeout","$state","$stateParams","$q","BankTicketDeadLineMaintainService","CodeService",function(a,b,c,d,e,f,g){a.data=d.data,b(function(){$.messager.progress({title:"Please waiting",msg:"Loading data...",interval:PROGRESS_ACTION_TIMEOUT});var a=["渠道类型","品牌"];g.findCodeTypeNames(a,"code/findCodeTypeNames",function(a){$.messager.progress("close");var c=["#dealerType","#brand"];b(function(){for(var b=0;b<a.length;b++)folUtil.isNull(a[b])||($(c[b]).combobox("loadData",a[b]),$(c[b]).combobox("select",a[b][0].code))})},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT&&(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问"))})}),a.addBankTicketDeadLine=function(){if((1!=a.data.maintainType||a.chenkBrand())&&(2!=a.data.maintainType||a.checkSpecialDealer())){var b={dealerType:folUtil.getComboBoxDataById("dealerType"),brandId:folUtil.getComboBoxDataById("brand"),deadlineDay:$("#deadlineDay").numberbox("getValue"),freePeriodDay:$("#freePeriodDay").numberbox("getValue"),effectDate:$("#effectDate").textbox("getValue")};if(a.checkValue(b)){$("#sapCode").length>0&&(b.sapCode=folUtil.isNull($("#sapCode").textbox("getValue"))?null:$("#sapCode").textbox("getValue"),b.expireDate=folUtil.isNull($("#expireDate").textbox("getValue"))?null:$("#expireDate").textbox("getValue"));var d;d=1==a.data.maintainType?"bankTicket/deadLine/addBrand":"bankTicket/deadLine/addSpecialDealer",f.addBankTicketDeadLine(b,d,function(a){$.messager.alert("提示","新增银票期限成功"),c.go("bankTicketDeadLineMaintain")},function(a){$.messager.alert("提示","新增银票期限失败,")})}}},a.cancel=function(){c.go("bankTicketDeadLineMaintain")},a.chenkBrand=function(){return folUtil.isNull(folUtil.getComboBoxDataById("dealerType"))?($.messager.alert("提示","渠道类型不能为空"),!1):folUtil.isNull(folUtil.getComboBoxDataById("brand"))?($.messager.alert("提示","品牌不能为空"),!1):folUtil.isNull($("#deadlineDay").numberbox("getValue"))?($.messager.alert("提示","票据天数不能为空"),!1):folUtil.isNull($("#freePeriodDay").numberbox("getValue"))?($.messager.alert("提示","免息期不能为空"),!1):folUtil.isNull($("#effectDate").textbox("getValue"))?($.messager.alert("提示","起效日不能为空"),!1):!0},a.checkSpecialDealer=function(){return folUtil.isNull(folUtil.getComboBoxDataById("dealerType"))||-1==folUtil.getComboBoxDataById("dealerType")?($.messager.alert("提示","渠道类型不能为空"),!1):folUtil.isNull(folUtil.getComboBoxDataById("brand"))||-1==folUtil.getComboBoxDataById("brand")?($.messager.alert("提示","品牌不能为空"),!1):folUtil.isNull($("#sapCode").textbox("getValue"))?($.messager.alert("提示","SAP代码不能为空"),!1):folUtil.isNull($("#deadlineDay").numberbox("getValue"))?($.messager.alert("提示","票据天数不能为空"),!1):folUtil.isNull($("#freePeriodDay").numberbox("getValue"))?($.messager.alert("提示","免息期不能为空"),!1):folUtil.isNull($("#effectDate").textbox("getValue"))?($.messager.alert("提示","起效日不能为空"),!1):folUtil.isNull($("#expireDate").textbox("getValue"))?($.messager.alert("提示","到期日不能为空"),!1):!0},a.checkValue=function(a){return parseFloat(a.deadlineDay)<parseFloat(a.freePeriodDay)?($.messager.alert("提示","票据天数不能小于免息天数"),!1):!folUtil.isNull(a.expireDate)&&a.effectDate>=a.expireDate?($.messager.alert("提示","生效日期必须小于到期日期"),!1):!0}}]),FolController.controller("UpdateBankTicketDeadLineMaintainController",["$scope","$timeout","$state","$stateParams","BankTicketDeadLineMaintainService",function(a,b,c,d,e){a.data=d.data,b(function(){$("#dealerType").textbox("setValue",a.data.vo.dealerTypeName),$("#brand").textbox("setValue",a.data.vo.brandName),$("#deadlineDay").textbox("setValue",a.data.vo.deadlineDay),$("#freePeriodDay").textbox("setValue",a.data.vo.freePeriodDay),$("#auditStatus").textbox("setValue",a.data.vo.auditStatusName),$("#effectDate").textbox("setValue",a.data.vo.effectDateDisplay),2==a.data.maintainType&&b(function(){$("#sapCode").textbox("setValue",a.data.vo.sapCode),$("#dealerName").textbox("setValue",a.data.vo.dealerName),$("#expireDate").textbox("setValue",a.data.vo.expireDateDisplay)})}),a.updateDeadLineWithBrand=function(){var b={encryptId:a.data.vo.encryptId,deadlineDay:$("#currentdeadlineDay").numberbox("getValue"),freePeriodDay:$("#currentfreePeriodDay").numberbox("getValue"),effectDate:$("#currenteffectDate").datebox("getValue")};a.checkValue(b)&&e.updateDeadLineWithBrand(b,"bankTicket/deadLine/updateDeadLine",function(a){$.messager.alert("提示","修改银票期限成功"),c.go("bankTicketDeadLineMaintain")},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT?(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问")):$.messager.alert("提示","修改银票期限失败,")})},a.updateDeadLineWithSpecialDealer=function(){var b={encryptId:a.data.vo.encryptId,deadlineDay:$("#currentdeadlineDay").numberbox("getValue"),freePeriodDay:$("#currentfreePeriodDay").numberbox("getValue"),effectDate:$("#currenteffectDate").datebox("getValue"),expireDate:$("#currentexpireDate").datebox("getValue")};a.checkValue(b)&&e.updateDeadLineWithBrand(b,"bankTicket/deadLine/updateDeadLine",function(a){$.messager.alert("提示","修改银票期限成功"),c.go("bankTicketDeadLineMaintain")},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT?(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问")):$.messager.alert("提示","修改银票期限失败,")})},a.cancel=function(){c.go("bankTicketDeadLineMaintain")},a.checkValue=function(a){return parseFloat(a.deadlineDa)<parseFloat(a.freePeriodDay)?($.messager.alert("提示","票据天数不能小于免息天数"),!1):!folUtil.isNull(a.expireDate)&&a.effectDate>=a.expireDate?($.messager.alert("提示","生效日期必须小于到期日期"),!1):!0}}]),FolController.controller("BankTicketLimitAmountMaintainController",["$scope","$timeout","$q","$state","BankTicketLimitAmountMaintainService","CodeService",function(a,b,c,d,e,f){var g="amountLimit";b(function(){if($("#datagrid").length>0){var c=$("#datagrid").datagrid("getPager");c.pagination({onSelectPage:function(b,c){a.query_data.beginNo=c*(b-1)==0?0:c*(b-1)+1,a.query_data.endNo=c*b,$.messager.progress({title:"Please waiting",msg:"Loading data...",interval:PROGRESS_ACTION_TIMEOUT}),e.query(a.query_data,"bankTicket/limitAmount/query",function(a,b){$.messager.progress("close"),$("#datagrid").datagrid("loadData",a)},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT&&(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问"))})}}),$.messager.progress({title:"Please waiting",msg:"Loading data...",interval:PROGRESS_ACTION_TIMEOUT}),a.query_data={beginNo:0,endNo:10},e.query(a.query_data,"bankTicket/limitAmount/query",function(a,b){$.messager.progress("close"),$("#datagrid").datagrid("loadData",a)},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT&&(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问"))})}if($("#specialdealerdatagrid").length>0){var c=$("#specialdealerdatagrid").datagrid("getPager");c.pagination({onSelectPage:function(b,c){a.query_data.beginNo=c*(b-1)==0?0:c*(b-1)+1,a.query_data.endNo=c*b,$.messager.progress({title:"Please waiting",msg:"Loading data...",interval:PROGRESS_ACTION_TIMEOUT}),e.query(a.query_data,"bankTicket/limitAmount/querySpecialDealer",function(a,b){$.messager.progress("close"),$("#specialdealerdatagrid").datagrid("loadData",a)},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT&&(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问"))})}}),a.query_data={beginNo:0,endNo:10},$.messager.progress({title:"Please waiting",msg:"Loading data...",interval:PROGRESS_ACTION_TIMEOUT}),e.query(a.query_data,"bankTicket/limitAmount/querySpecialDealer",function(a,b){$.messager.progress("close"),$("#specialdealerdatagrid").datagrid("loadData",a)},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT&&(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问"))})}$(".sgm_tabs").tabs({onSelect:function(c){if("维护特殊经销商"==c){g="specialDealer",$.messager.progress({title:"Please waiting",msg:"Loading data...",interval:PROGRESS_ACTION_TIMEOUT});var d=["渠道类型","品牌","银票审核状态"];f.findCodeTypeNames(d,"code/findCodeTypeNames",function(a){$.messager.progress("close");var c=["#dealerType","#brand","#auditStatus"];b(function(){for(var b=0;b<a.length;b++)if(!folUtil.isNull(a[b]))if("银票审核状态"==a[b][1].typeName){var d=[];$.each(a[b],function(a,b){b.codeCnDesc.indexOf("修改")<0&&d.push(b)}),$(c[b]).combobox("loadData",d),$(c[b]).combobox("select",d[0].code)}else $(c[b]).combobox("loadData",a[b]),$(c[b]).combobox("select",a[b][0].code)})},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT&&(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问"))}),a.query_data={beginNo:0,endNo:10},$.messager.progress({title:"Please waiting",msg:"Loading data...",interval:PROGRESS_ACTION_TIMEOUT}),e.query(a.query_data,"bankTicket/limitAmount/querySpecialDealer",function(a,b){$.messager.progress("close"),$("#specialdealerdatagrid").datagrid("loadData",{total:0,rows:[]}),$("#specialdealerdatagrid").datagrid("loadData",a)},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT&&(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问"))})}else g="limitAomunt",$.messager.progress({title:"Please waiting",msg:"Loading data...",interval:PROGRESS_ACTION_TIMEOUT}),a.query_data={beginNo:0,endNo:10},e.query(a.query_data,"bankTicket/limitAmount/query",function(a,b){$.messager.progress("close"),$("#datagrid").datagrid("loadData",{total:0,rows:[]}),$("#datagrid").datagrid("loadData",a)},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT&&(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问"))})}})}),a.addBankTicketLimitAmount=function(){d.go("addBankTicketLimitAmountMaintain",{data:{maintainType:1}})},a.addBankTicketLimitAmountSpecialDealer=function(){d.go("addBankTicketLimitAmountMaintain",{data:{maintainType:2}})},a.querySpecialDealer=function(){$.messager.progress({title:"Please waiting",msg:"Loading data...",interval:PROGRESS_ACTION_TIMEOUT}),a.query_data={dealerType:folUtil.getComboBoxDataById("dealerType"),brandId:folUtil.getComboBoxDataById("brand"),sapCode:$("#sapCode").textbox("getValue"),dealerName:$("#dealerName").textbox("getValue"),auditStatus:folUtil.getComboBoxDataById("auditStatus"),beginNo:0,endNo:10},e.query(a.query_data,"bankTicket/limitAmount/querySpecialDealer",function(a,b){$.messager.progress("close"),$("#specialdealerdatagrid").datagrid("loadData",{total:0,rows:[]}),$("#specialdealerdatagrid").datagrid("loadData",a)},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT&&(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问"))})},a.deleteBankTicketLimitAmount=function(){var b;return b="amountLimit"==g?$("#datagrid").datagrid("getSelections"):$("#specialdealerdatagrid").datagrid("getSelections"),b.length<=0?void $.messager.alert("提示","请选择一条记录，再进行操作"):b.length>1?void $.messager.alert("提示","不能选择多条记录，再进行操作"):b[0].auditStatus==STATE.BANK_TICKET_ADD_UN_AUDIT||b[0].auditStatus==STATE.BANK_TICKET_UPDATE_UN_AUDIT||b[0].auditStatus==STATE.BANK_TICKET_DELETE_UN_AUDIT?void $.messager.alert("提示","当前状态是待审核不能给予删除"):void e.deleteBankTicketLimitAmount(b[0],"bankTicket/limitAmount/delete",function(b){$.messager.alert("提示","删除银票限额成功");var c={};"amountLimit"==g?(c.url="bankTicket/limitAmount/query",c.datagridName="#datagrid"):(c.url="bankTicket/limitAmount/querySpecialDealer",c.datagridName="#specialdealerdatagrid"),e.query(a.query_data,c.url,function(a,b){$.messager.progress("close"),$(c.datagridName).datagrid("loadData",{total:0,rows:[]}),$(c.datagridName).datagrid("loadData",a)},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT&&(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问"))})},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT?(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问")):$.messager.alert("提示","删除银票限额失败")})},a.updateBankTicketLimitAmount=function(){var a;return a="amountLimit"==g?$("#datagrid").datagrid("getSelections"):$("#specialdealerdatagrid").datagrid("getSelections"),a.length<=0?void $.messager.alert("提示","请选择一条记录，再进行操作"):a.length>1?void $.messager.alert("提示","不能选择多条记录，再进行操作"):a[0].auditStatus==STATE.BANK_TICKET_ADD_UN_AUDIT||a[0].auditStatus==STATE.BANK_TICKET_UPDATE_UN_AUDIT||a[0].auditStatus==STATE.BANK_TICKET_DELETE_UN_AUDIT?void $.messager.alert("提示","当前状态是待审核不能给予修改"):void d.go("updateBankTicketLimitAmountMaintain",{data:{maintainType:1,vo:a[0]}})},a.updateBankTicketLimitAmountSpecialDealer=function(){var a;return a="amountLimit"==g?$("#datagrid").datagrid("getSelections"):$("#specialdealerdatagrid").datagrid("getSelections"),a.length<=0?void $.messager.alert("提示","请选择一条记录，再进行操作"):a.length>1?void $.messager.alert("提示","不能选择多条记录，再进行操作"):a[0].auditStatus==STATE.BANK_TICKET_ADD_UN_AUDIT||a[0].auditStatus==STATE.BANK_TICKET_UPDATE_UN_AUDIT||a[0].auditStatus==STATE.BANK_TICKET_DELETE_UN_AUDIT?void $.messager.alert("提示","当前状态是待审核不能给予修改"):void d.go("updateBankTicketLimitAmountMaintain",{data:{maintainType:2,vo:a[0]}})}}]),FolController.controller("AddBankTicketLimitAmountMaintainController",["$scope","$timeout","$q","$state","$stateParams","BankTicketLimitAmountMaintainService","CodeService",function(a,b,c,d,e,f,g){function h(){if(folUtil.isNull($("#limitAmount").numberbox("getValue")))return $.messager.alert("提示","票据限额不能为空"),!1;if(folUtil.isNull($("#effectDate").datebox("getValue")))return $.messager.alert("提示","起效日不能为空"),!1;if(2==a.data.maintainType){if(folUtil.isNull(folUtil.getComboBoxDataById("dealerType"))||-1==folUtil.getComboBoxDataById("dealerType"))return $.messager.alert("提示","渠道类型不能为空"),!1;if(folUtil.isNull(folUtil.getComboBoxDataById("brand"))||-1==folUtil.getComboBoxDataById("brand"))return $.messager.alert("提示","品牌不能为空"),!1;if(folUtil.isNull($("#sapCode").textbox("getValue")))return $.messager.alert("提示","客户代码不能为空"),!1;if(folUtil.isNull($("#expireDate").datebox("getValue")))return $.messager.alert("提示","到期日不能为空"),!1}return!0}a.data=e.data,b(function(){if(2==a.data.maintainType){$.messager.progress({title:"Please waiting",msg:"Loading data...",interval:PROGRESS_ACTION_TIMEOUT});var c=["渠道类型","品牌"];g.findCodeTypeNames(c,"code/findCodeTypeNames",function(a){$.messager.progress("close");var c=["#dealerType","#brand"];b(function(){for(var b=0;b<a.length;b++)folUtil.isNull(a[b])||($(c[b]).combobox("loadData",a[b]),$(c[b]).combobox("select",a[b][0].code))})},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT&&(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问"))})}}),a.addBankTicketLimitAmount=function(){if(h()){var b,c={amountLimit:$("#limitAmount").numberbox("getValue"),effectDate:$("#effectDate").datebox("getValue")};2==a.data.maintainType?(c.dealerType=folUtil.getComboBoxDataById("dealerType"),c.brandId=folUtil.getComboBoxDataById("brand"),c.sapCode=$("#sapCode").textbox("getValue"),c.expireDate=$("#expireDate").datebox("getValue"),b="bankTicket/limitAmount/addSpecialDealer"):b="bankTicket/limitAmount/add",f.addBankTicketLimitAmount(c,b,function(a){$.messager.alert("提示","新增银票限额成功"),d.go("bankTicketLimitAmountMaintain")},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT?(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问")):$.messager.alert("提示","新增银票限额失败")})}},a.cancel=function(){d.go("bankTicketLimitAmountMaintain")}}]),FolController.controller("UpdateBankTicketLimitAmountMaintainController",["$scope","$timeout","$q","$state","$stateParams","BankTicketLimitAmountMaintainService",function(a,b,c,d,e,f){function g(){return 2==a.data.maintain&&$("#effectDate").datebox("getValue")<$("#expireDate").datebox("getValue")?!1:!0}a.data=e.data,b(function(){$("#amountLimit").textbox("setValue",a.data.vo.moneyDisplay),$("#effectDateDisplay").textbox("setValue",a.data.vo.effectDateDisplay),$("#auditStatusName").textbox("setValue",a.data.vo.auditStatusName),$("#auditMsg").textbox("setValue",a.data.vo.auditMsg),2==a.data.maintainType&&($("#dealerTypeName").textbox("setValue",a.data.vo.dealerTypeName),$("#sapCode").textbox("setValue",a.data.vo.sapCode),$("#brandName").textbox("setValue",a.data.vo.brandName),$("#dealerName").textbox("setValue",a.data.vo.dealerName),$("#expireDateDisplay").textbox("setValue",a.data.vo.expireDateDisplay))}),a.updateBankTicketLimitAmount=function(){if(g()){var b={amountLimit:$("#currentAmountLimit").numberbox("getValue"),effectDate:$("#effectDate").datebox("getValue"),encryptId:a.data.vo.encryptId};2==a.data.maintainType&&(b.expireDate=$("#expireDate").datebox("getValue")),f.updateBankTicketLimitAmount(b,"bankTicket/limitAmount/update",function(a){$.messager.alert("提示","修改银票限额成功"),d.go("bankTicketLimitAmountMaintain")},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT?(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问")):$.messager.alert("提示","修改银票限额失败")})}},a.cancel=function(){d.go("bankTicketLimitAmountMaintain")}}]),FolController.controller("BankTicketLimitMaintainController",["$scope","$timeout","$state","$q","BankTicketLimitMaintainService","CodeService",function(a,b,c,d,e,f){function g(a,c){$.messager.progress({title:"Please waiting",msg:"Loading data...",interval:PROGRESS_ACTION_TIMEOUT}),f.findCodeTypeNames(c,"code/findCodeTypeNames",function(c){$.messager.progress("close"),b(function(){for(var b=0;b<c.length;b++)if(!folUtil.isNull(c[b]))if("银票审核状态"==c[b][1].typeName){var d=[];$.each(c[b],function(a,b){b.codeCnDesc.indexOf("删除")<0&&d.push(b)}),$(a[b]).combobox("loadData",d),$(a[b]).combobox("select",d[0].code)}else if("维护类型"==c[b][1].typeName){var d=[];$.each(c[b],function(a,b){b.codeCnDesc.indexOf("请选择")<0&&d.push(b)}),$(a[b]).combobox("loadData",d),$(a[b]).combobox("select",d[0].code)}else $(a[b]).combobox("loadData",c[b]),$(a[b]).combobox("select",c[b][0].code)})},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT&&(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问"))})}a.istableshow=!1,b(function(){if($("#datagridDealer").length>0){var b=$("#datagridDealer").datagrid("getPager");b.pagination({onSelectPage:function(b,c){a.query_data.beginNo=c*(b-1)==0?0:c*(b-1)+1,a.query_data.endNo=c*b,$.messager.progress({title:"Please waiting",msg:"Loading data...",interval:PROGRESS_ACTION_TIMEOUT}),e.query(a.query_data,"bankTictet/limits/query",function(a,b){$.messager.progress("close"),$("#datagridDealer").datagrid("loadData",a)},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT&&(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问"))})}})}if($("#datagridBank").length>0){var b=$("#datagridBank").datagrid("getPager");b.pagination({onSelectPage:function(b,c){a.query_data.beginNo=c*(b-1)==0?0:c*(b-1)+1,a.query_data.endNo=c*b,$.messager.progress({title:"Please waiting",msg:"Loading data...",interval:PROGRESS_ACTION_TIMEOUT}),e.query(a.query_data,"bankTictet/limits/query",function(a,b){$.messager.progress("close"),$("#datagridBank").datagrid("loadData",a)},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT&&(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问"))})}})}var c=["#dealerTypeFirst","#bankTicketAuditStatusFirst"],d=["渠道类型","银票审核状态"];g(c,d),a.query(1),a.selectedTable="dealer",$(".sgm_tabs").tabs({onSelect:function(b){if("银行渠道银票额度维护"==b){var c=["#dealerTypeFirst","#bankTicketAuditStatusFirst"],d=["渠道类型","银票审核状态"];g(c,d),a.query(1),a.selectedTable="dealer"}else{var c=["#bankTicketAuditStatusSecond"],d=["银票审核状态"];g(c,d),a.query(2),a.selectedTable="bank"}}})}),a.query=function(b){a.istableshow=!0,a.query_data={maintainType:b,beginNo:0,endNo:10},1==b?(a.query_data.dealerType=folUtil.getComboBoxDataById("dealerTypeFirst"),a.query_data.auditStatus=folUtil.getComboBoxDataById("bankTicketAuditStatusFirst")):a.query_data.auditStatus=folUtil.getComboBoxDataById("bankTicketAuditStatusSecond"),$.messager.progress({title:"Please waiting",msg:"Loading data...",interval:PROGRESS_ACTION_TIMEOUT}),e.query(a.query_data,"bankTictet/limits/query",function(a,c){$.messager.progress("close"),1==b?($("#datagridDealer").datagrid("loadData",{
total:0,rows:[]}),$("#datagridDealer").datagrid("loadData",a)):($("#datagridBank").datagrid("loadData",{total:0,rows:[]}),$("#datagridBank").datagrid("loadData",a))},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT&&(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问"))})},a.insertDealer=function(){c.go("addBankTicketLimit",{data:{maintainType:1,type:"add",pageTitle:"新增银行银票额度"}})},a.insertBank=function(){c.go("addBankTicketLimit",{data:{maintainType:2,type:"add",pageTitle:"新增银行银票额度"}})},a.update=function(){var b;return b="dealer"==a.selectedTable?$("#datagridDealer").datagrid("getSelections"):$("#datagridBank").datagrid("getSelections"),b.length<=0?void $.messager.alert("提示","请选择某条记录在进行修改"):b.length>1?void $.messager.alert("提示","不能选择多条记录进行修改"):b[0].auditStatus==STATE.BANK_TICKET_ADD_UN_AUDIT||b[0].auditStatus==STATE.BANK_TICKET_UPDATE_UN_AUDIT||b[0].auditStatus==STATE.BANK_TICKET_DELETE_UN_AUDIT?void $.messager.alert("提示","当前状态是待审核不能给予修改"):void("dealer"==a.selectedTable?c.go("updateBankTicketLimit",{data:{bankBankTicketVo:b[0],maintainType:1,type:"update",pageTitle:"更新银行银票额度"}}):c.go("updateBankTicketLimit",{data:{bankBankTicketVo:b[0],maintainType:2,type:"update",pageTitle:"更新银行银票额度"}}))},a["import"]=function(){c.go("uploadFilePage",{pageName:"bankTicketLimitMaintain"})}}]),FolController.controller("AddBankTicketLimitController",["$scope","$timeout","$state","$q","$stateParams","BankTicketLimitMaintainService","CodeService",function(a,b,c,d,e,f,g){function h(){return folUtil.isNull(a.bankAbbr)?($.messager.alert("提示","银行简称不能为空"),!1):folUtil.isNull(a.bankCnDesc)?($.messager.alert("提示","银行中文名称不能为空"),!1):$("#dealerType").length>0&&(folUtil.isNull(folUtil.getComboBoxDataById("dealerType"))||-1==folUtil.getComboBoxDataById("dealerType"))?($.messager.alert("提示","渠道类型不能为空"),!1):folUtil.isNull(a.totalAmount)?($.messager.alert("提示","银票总额不能为空"),!1):!0}a.data=e.data,b(function(){$("#bankTicketLimit").panel({title:a.data.pageTitle});var c=["渠道类型"];$.messager.progress({title:"Please waiting",msg:"Loading data...",interval:PROGRESS_ACTION_TIMEOUT}),g.findCodeTypeNames(c,"code/findCodeTypeNames",function(a){$.messager.progress("close");var c=["#dealerType"];b(function(){for(var b=0;b<a.length;b++)folUtil.isNull(a[b])||($(c[b]).combobox("loadData",a[b]),$(c[b]).combobox("select",a[b][0].code))})},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT&&(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问"))})}),a.addBankTicketLimit=function(){var b={dealerType:$("#dealerType").length>0?folUtil.getComboBoxDataById("dealerType"):null,bankAbbr:a.bankAbbr,bankChName:a.bankCnDesc,amount:a.totalAmount,bankEnName:a.bankEnDesc,maintainType:e.data.maintainType};h()&&f.addBankTicketLimit(b,"bankTictet/limits/add",function(a){$.messager.alert("提示","银行银票额度新增成功"),c.go("bankTicketLimitMaintain")},function(a){$.messager.alert("提示","银行银票新增失败")})}}]),FolController.controller("UpdateBankTicketLimitController",["$scope","$timeout","$state","$q","$stateParams","BankTicketLimitMaintainService","CodeService",function(a,b,c,d,e,f,g){a.data=e.data,b(function(){$("#bankTicketLimit").panel({title:a.data.pageTitle});var c=["渠道类型"];g.findCodeTypeNames(c,"code/findCodeTypeNames",function(a){$.messager.progress("close");var c=["#dealerType"];b(function(){for(var b=0;b<a.length;b++)folUtil.isNull(a[b])||$(c[b]).combobox("loadData",a[b])})},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT&&(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问"))}),$("#dealerType").combobox("select",a.data.bankBankTicketVo.dealerType),$("#bankAbbr").textbox("setValue",a.data.bankBankTicketVo.bankAbbr),$("#bankCnDesc").textbox("setValue",a.data.bankBankTicketVo.bankChName),$("#totalAmount").numberbox("setValue",a.data.bankBankTicketVo.moneyDisplay),$("#bankEnDesc").textbox("setValue",a.data.bankBankTicketVo.bankEnName)}),a.updateBankTicketLimit=function(){console.log(a.data.bankBankTicketVo.bankId);var b={dealerType:$("#dealerType").length>0?folUtil.getComboBoxDataById("dealerType"):null,bankAbbr:a.bankAbbr,bankChName:a.bankCnDesc,amount:a.totalAmount,bankEnName:a.bankEnDesc,bankId:a.data.bankBankTicketVo.bankId,encryptId:a.data.bankBankTicketVo.encryptId};f.updateBankTicketLimit(b,"bankTictet/limits/update",function(a){$.messager.alert("提示","银行银票额度更新成功"),c.go("bankTicketLimitMaintain")},function(a){$.messager.alert("提示","银行银票额度更新失败"),console.log(a)})}}]),FolController.controller("TicketInterestRateMaintainController",["$scope","$timeout","$state","$q","TicketInterestRateMaintainService",function(a,b,c,d,e){b(function(){if($("#datagrid").datagrid().datagrid("enableCellEditing"),$("#datagridHis").datagrid().datagrid("enableCellEditing"),$("#datagrid").length>0){var b=$("#datagrid").datagrid("getPager");b.pagination({onSelectPage:function(b,c){a.query_data.beginNo=c*(b-1)==0?0:c*(b-1)+1,a.query_data.endNo=c*b,$.messager.progress({title:"Please waiting",msg:"Loading data...",interval:PROGRESS_ACTION_TIMEOUT}),e.queryCur(a.query_data,"interestRate/maintain/queryCur",function(a,b){$.messager.progress("close"),$("#datagrid").datagrid("loadData",a)},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT&&(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问"))})}})}if($("#datagridHis").length>0){var b=$("#datagridHis").datagrid("getPager");b.pagination({onSelectPage:function(b,c){a.query_data.beginNo=c*(b-1)==0?0:c*(b-1)+1,a.query_data.endNo=c*b,$.messager.progress({title:"Please waiting",msg:"Loading data...",interval:PROGRESS_ACTION_TIMEOUT}),e.queryHis(a.query_data,"interestRate/maintain/queryHis",function(a,b){$.messager.progress("close"),$("#datagridHis").datagrid("loadData",a)},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT&&(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问"))})}})}}),a.query_data={auditStatus:a.auditStatus,beginNo:0,endNo:10},e.queryCur(a.query_data,"interestRate/maintain/queryCur",function(a,b){$.messager.progress("close"),$("#datagrid").datagrid("loadData",a)},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT&&(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问"))}),e.queryHis(a.query_data,"interestRate/maintain/queryHis",function(a,b){$.messager.progress("close"),$("#datagridHis").datagrid("loadData",{total:0,rows:[]}),$("#datagridHis").datagrid("loadData",a)},function(a){$.messager.progress("close"),a.state===STATE.TIMEOUT&&(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问"))}),a.update=function(){var a;return a=$("#datagrid").datagrid("getSelections"),a.length<=0?void $.messager.alert("提示","请选择最新一条记录进行修改"):a.length>1?void $.messager.alert("提示","不能选择多条记录进行修改"):null!=a[0].unAuditRateCur?void $.messager.alert("提示","当前状态是待审核不能给予修改"):void c.go("updateInterestRateHis")}}]),FolController.controller("UpdateInterestRateController",["$scope","$timeout","$state","$q","TicketInterestRateMaintainService","CodeService",function(a,b,c,d,e,f){a.confirm=function(){var a={annualInterestRate:$("#annualInterestRate").textbox("getValue")};e.checkdata(a,"interestRate/maintain/getSign",function(a,b){console.log(a),e.confirm(a,"interestRate/maintain/update",function(a,b){$.messager.alert("提示","修改成功"),c.go("ticketInterestRateMaintain")},function(a){a.state===STATE.TIMEOUT?(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问")):$.messager.alert("提示","修改失败")})},function(a){a.state===STATE.TIMEOUT&&(console.log("timeout"),$.messager.alert("提示","系统超时请稍后访问"))})},a.cancel=function(){c.go("ticketInterestRateMaintain")}}]);